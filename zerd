
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.Arrays;

public class number {

    public static void main(String[] args) {
        String csvFile = "C:/Users/Aashik Ali/OneDrive/Desktop/New folder (3)/2023-12-02_koyambedu_vegetable_rates.csv"; // Replace with your CSV file path
        String column = "Vegetable"; // Replace with the column name you want to extract

        try (BufferedReader br = new BufferedReader(new FileReader(csvFile))) {
            String line;
            FileWriter writer = new FileWriter("output.txt"); // Output text file

            // Read header to find column index
            String headerLine = br.readLine();
            String[] headers = headerLine.split(",");
            System.out.println("Headers: " + Arrays.toString(headers));

            int columnIndex = -1;
            for (int i = 0; i < headers.length; i++) {
                if (headers[i].toLowerCase().contains(column.toLowerCase())) {
                    columnIndex = i;
                    break;
                }
            }

            if (columnIndex == -1) {
                System.out.println("Column not found!");
                return;
            }

            // Read and write column data to text file
            while ((line = br.readLine()) != null) {
                String[] data = line.split(",");
                if (data.length > columnIndex) {
                    writer.write(data[columnIndex] + "\n");
                }
            }

            writer.close();
            System.out.println("Data extracted and written to output.txt");

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
